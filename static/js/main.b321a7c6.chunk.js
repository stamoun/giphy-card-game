(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,n,t){e.exports=t(29)},22:function(e,n,t){},29:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(10),o=t.n(c),u=(t(22),t(1)),i=t(13),l=t(3),s=t(2),d=t.n(s),f=t(4),p=null;function m(){return h.apply(this,arguments)}function h(){return(h=Object(f.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=4;break}return e.next=3,t.e(3).then(t.t.bind(null,30,3));case 3:p=e.sent;case 4:return e.abrupt("return",p);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function v(){return(v=Object(f.a)(d.a.mark(function e(n,t){var r,a,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:if((r=e.sent).giphy_api_key){e.next=5;break}throw new Error("No Giphy api key found.");case 5:return a=b(n,t,r.giphy_api_key),e.next=8,fetch(a);case 8:if((c=e.sent).ok){e.next=12;break}throw console.error("Error fetching images",c),new Error("Could not fetch images from Giphy");case 12:return e.next=14,c.json();case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(e,n,t){var r=encodeURIComponent(e);return"https://api.giphy.com/v1/gifs/search?q=".concat(r,"&limit=").concat(n,"&api_key=").concat(t)}var g=t(5);function y(){var e=Object(l.a)(["\n  background: none;\n  cursor: pointer;\n  display: flex;\n  border: 1px solid black;\n  width: 200px;\n  height: 200px;\n  border-radius: 6px;\n  align-items: center;\n  justify-content: center;\n  ","\n\n  &:focus {\n    outline: none;\n    border: 2px solid black;\n  }\n\n  &:hover {\n    opacity: 0.8;\n  }\n  > img {\n    width: 100%;\n  }\n"]);return y=function(){return e},e}var E=g.a.button(y(),function(e){return e.backgroundColor}),k=function(e){var n,t=e.gameCard,r=e.color,c=e.displayId,o=e.onClick,u="hidden"!==t.state;return a.a.createElement(E,{onClick:o,backgroundColor:r},u?(n=t.image.url,a.a.createElement("img",{alt:"Card",src:n})):c?t.pairId:"")};function j(){var e=Object(l.a)(["\n  display: grid;\n  grid-template-columns: repeat(",", 200px);\n  grid-gap: 6px;\n  margin: 6px;\n  justify-content: center;\n"]);return j=function(){return e},e}var O=g.a.div(j(),function(e){return e.columnCount}),x=["off","colors","id"],w=function(e){var n=e.search,t=e.cardCount,c=Object(r.useState)(!0),o=Object(u.a)(c,2),i=o[0],l=o[1],s=Object(r.useState)(!1),d=Object(u.a)(s,2),f=d[0],p=d[1],m=Object(r.useState)([]),h=Object(u.a)(m,2),b=h[0],g=h[1],y=Object(r.useState)("off"),E=Object(u.a)(y,2),j=E[0],w=E[1];Object(r.useEffect)(function(){l(!0),function(e,n){return v.apply(this,arguments)}(n,t/2).then(function(e){return n=1e3,t=e,new Promise(function(e){setTimeout(function(){return e(t)},n)});var n,t}).then(function(e){var n=0,r=e.data.map(function(e){return{image:e.images.fixed_height,pairId:n++}}),a=Array.from({length:t},function(e,n){return Math.floor(n/2)}),c=(a=function(e){for(var n=e.length;n;){var t=Math.floor(Math.random()*n--),r=e[n];e[n]=e[t],e[t]=r}return e}(a)).map(function(e,n){var t=r[e];return{cardId:n,pairId:t.pairId,state:"hidden",image:t.image}});l(!1),g(c)})},[n,t]);var S,M=function(){return a.a.createElement("div",null,"No results")},_=function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement("label",null,"EZ Mode:",a.a.createElement("select",{value:j,onChange:T},x.map(function(e){return a.a.createElement("option",{value:e,key:e},e)}))),a.a.createElement(O,{columnCount:I(t).columns},e.map(function(e){return a.a.createElement(k,{key:e.cardId,gameCard:e,color:N(t/2,e.pairId,e.state,j),displayId:"id"===j,onClick:function(){return A(e.cardId)}})})))},N=function(e,n,t,r){var a=Math.floor(256/e*(n+1)),c="hsl(".concat(a,", 100%, 50%)");return console.log("color: ".concat(c)),"background-color: ".concat("revealed"===t?"bisque":"matched"===t?"pink":"colors"===r?c:"darksalmon",";")},T=function(e){w(e.currentTarget.value)},A=function(e){if(!f){var n=b.find(function(e){return"revealed"===e.state});if(n){var t=b[e];n!==t&&(n.pairId===t.pairId?q(n.cardId,t.cardId):G(n.cardId,t.cardId))}else g(C(b,"revealed",[e]))}},q=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=C(b,"matched",n);g(r)},G=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];p(!0);var r=C(b,"revealed",n);g(r),setTimeout(function(){var e=C(b,"hidden",n);g(e),p(!1)},1e3)};return a.a.createElement("div",null,i?a.a.createElement("div",null,"Loading..."):0===(S=b).length?M():_(S))};function C(e,n,t){return e.map(function(e){return t.includes(e.cardId)?Object(i.a)({},e,{state:n}):e})}function I(e){var n=Math.floor(Math.sqrt(e));return{columns:n,rows:e/n}}var S=[12,16,20,30,36],M=function(){var e=Object(r.useState)(16),n=Object(u.a)(e,2),t=n[0],c=n[1],o=Object(r.useState)(16),i=Object(u.a)(o,2),l=i[0],s=i[1],d=Object(r.useState)("Nicolas Cage"),f=Object(u.a)(d,2),p=f[0],m=f[1],h=Object(r.useState)("Nicolas Cage"),v=Object(u.a)(h,2),b=v[0],g=v[1];return a.a.createElement("div",{className:"App"},a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),s(t),g(p)}},a.a.createElement("label",null,"Search:",a.a.createElement("input",{type:"text",value:p,onChange:function(e){m(e.currentTarget.value)}})),a.a.createElement("label",null,"Card count:",a.a.createElement("select",{value:t,onChange:function(e){var n=parseInt(e.currentTarget.value,10);c(n)}},S.map(function(e){return a.a.createElement("option",{value:e,key:e},e)}))),a.a.createElement("button",{type:"submit",disabled:!p},"Start")),a.a.createElement(w,{search:b,cardCount:l}))};o.a.render(a.a.createElement(M,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.b321a7c6.chunk.js.map