(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,n,t){e.exports=t(29)},22:function(e,n,t){},29:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(10),u=t.n(c),o=(t(22),t(1)),i=t(13),l=t(3),d=t(2),s=t.n(d),f=t(4),p=null;function m(){return h.apply(this,arguments)}function h(){return(h=Object(f.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=4;break}return e.next=3,t.e(3).then(t.t.bind(null,30,3));case 3:p=e.sent;case 4:return e.abrupt("return",p);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(){return(b=Object(f.a)(s.a.mark(function e(n,t){var r,a,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:if((r=e.sent).giphy_api_key){e.next=5;break}throw new Error("No Giphy api key found.");case 5:return a=v(n,t,r.giphy_api_key),e.next=8,fetch(a);case 8:if((c=e.sent).ok){e.next=12;break}throw console.error("Error fetching images",c),new Error("Could not fetch images from Giphy");case 12:return e.next=14,c.json();case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function v(e,n,t){var r=encodeURIComponent(e);return"https://api.giphy.com/v1/gifs/search?q=".concat(r,"&limit=").concat(n,"&api_key=").concat(t)}var g=t(5);function k(){var e=Object(l.a)(["\n  background: none;\n  cursor: pointer;\n  display: flex;\n  border: 1px solid black;\n  width: 200px;\n  height: 200px;\n  border-radius: 6px;\n  align-items: center;\n  justify-content: center;\n\n  &:focus {\n    outline: none;\n    border: 2px solid black;\n  }\n\n  ","\n\n  > img {\n    width: 100%;\n  }\n"]);return k=function(){return e},e}var y=g.a.button(k(),function(e){return"revealed"===e.cardState?"background-color: bisque;":"matched"===e.cardState?"background-color: pink;":"background-color: darksalmon;\n\n    &:hover {\n      opacity: 0.8;\n    }\n  "}),E=function(e){var n,t,r,c=e.gameCard,u=e.onClick,o="hidden"!==c.state;return a.a.createElement(y,{onClick:u,cardState:c.state},o?(r=c.image.url,a.a.createElement("img",{alt:"Card",src:r})):(n=c.ezMode,t=c.pairId,n?t:""))};function j(){var e=Object(l.a)(["\n  display: grid;\n  grid-template-columns: repeat(",", 200px);\n  grid-gap: 6px;\n  margin: 6px;\n  justify-content: center;\n"]);return j=function(){return e},e}var x=g.a.div(j(),function(e){return e.columnCount}),O=function(e){var n=e.search,t=e.cardCount,c=e.ezMode,u=Object(r.useState)(!0),i=Object(o.a)(u,2),l=i[0],d=i[1],s=Object(r.useState)(!1),f=Object(o.a)(s,2),p=f[0],m=f[1],h=Object(r.useState)([]),v=Object(o.a)(h,2),g=v[0],k=v[1];Object(r.useEffect)(function(){d(!0),function(e,n){return b.apply(this,arguments)}(n,t/2).then(function(e){return n=1e3,t=e,new Promise(function(e){setTimeout(function(){return e(t)},n)});var n,t}).then(function(e){var n=e.data.map(function(e){return{image:e.images.fixed_height,pairId:e.id}}),r=Array.from({length:t},function(e,n){return Math.floor(n/2)}),a=(r=function(e){for(var n=e.length;n;){var t=Math.floor(Math.random()*n--),r=e[n];e[n]=e[t],e[t]=r}return e}(r)).map(function(e,t){var r=n[e];return{cardId:t,ezMode:c,pairId:r.pairId,state:"hidden",image:r.image}});d(!1),k(a)})},[n,t,c]);var y,j=function(){return a.a.createElement("div",null,"No results")},O=function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(x,{columnCount:C(t).columns},e.map(function(e){return a.a.createElement(E,{key:e.cardId,gameCard:e,onClick:function(){return I(e.cardId)}})})))},I=function(e){if(!p){var n=g.find(function(e){return"revealed"===e.state});if(n){var t=g[e];n!==t&&(n.pairId===t.pairId?S(n.cardId,t.cardId):M(n.cardId,t.cardId))}else k(w(g,"revealed",[e]))}},S=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=w(g,"matched",n);k(r)},M=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];m(!0);var r=w(g,"revealed",n);k(r),setTimeout(function(){var e=w(g,"hidden",n);k(e),m(!1)},1e3)};return a.a.createElement("div",null,l?a.a.createElement("div",null,"Loading..."):0===(y=g).length?j():O(y))};function w(e,n,t){return e.map(function(e){return t.includes(e.cardId)?Object(i.a)({},e,{state:n}):e})}function C(e){var n=Math.floor(Math.sqrt(e));return{columns:n,rows:e/n}}var I=[12,16,20,30,36,42,56,64],S=function(){var e=Object(r.useState)(16),n=Object(o.a)(e,2),t=n[0],c=n[1],u=Object(r.useState)(16),i=Object(o.a)(u,2),l=i[0],d=i[1],s=Object(r.useState)("Nicolas Cage"),f=Object(o.a)(s,2),p=f[0],m=f[1],h=Object(r.useState)("Nicolas Cage"),b=Object(o.a)(h,2),v=b[0],g=b[1],k=Object(r.useState)(!0),y=Object(o.a)(k,2),E=y[0],j=y[1];return a.a.createElement("div",{className:"App"},a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),d(t),g(p),j(E)}},a.a.createElement("label",null,"Search:",a.a.createElement("input",{type:"text",value:p,onChange:function(e){m(e.currentTarget.value)}})),a.a.createElement("label",null,"Card count:",a.a.createElement("select",{value:t,onChange:function(e){var n=parseInt(e.currentTarget.value,10);c(n)}},I.map(function(e){return a.a.createElement("option",{value:e,key:e},e)}))),a.a.createElement("label",null,"EZ Mode:",a.a.createElement("input",{type:"checkbox",checked:E,onChange:function(e){j(e.currentTarget.checked)}})),a.a.createElement("button",{type:"submit",disabled:!p},"Start")),a.a.createElement(O,{search:v,cardCount:l,ezMode:E}))};u.a.render(a.a.createElement(S,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.dd4e44e7.chunk.js.map